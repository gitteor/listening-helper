<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Audio Split Player</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="favicon.png">
</head>
<body>
  <header class="header">
    <h1>Audio Split Player</h1>
    <p>음성 파일을 원하는 단위로 잘라 반복해서 들어보세요.</p>
  </header>

  <main class="container">
    <!-- 상단 컨트롤 영역 -->
    <section class="panel">
      <h2>1. 파일 업로드</h2>

      <div class="form-row">
        <label for="audioFile">음성파일 업로드</label>
        <input type="file" id="audioFile" />
      </div>

      <div class="form-row">
        <label for="chunkSeconds">자를 길이 (초)</label>
        <input type="number" id="chunkSeconds" value="10" min="1" />
      </div>

      <div class="form-row">
        <label for="defaultRepeat">기본 반복 횟수</label>
        <input type="number" id="defaultRepeat" value="1" min="1" />
      </div>

      <button id="cutButton" class="primary">자르기</button>
      <p class="hint">파일은 업로드되지 않고, 개인 브라우저 안에서만 사용됩니다.</p>
    </section>

    <!-- 잘린 구간 리스트 -->
    <section class="panel">
      <h2>2. 구간 목록</h2>

      <div id="chunkList" class="chunk-list">
        <p class="empty">파일을 선택하고 자르기를 눌러주세요.</p>
      </div>
    </section>

    <!-- 전체 재생 컨트롤 -->
    <section class="panel">
      <h2>3. 전체 재생 설정</h2>

      <div class="form-row">
        <label for="globalRepeat">전체 반복 횟수</label>
        <input type="number" id="globalRepeat" value="1" min="1" />
      </div>

      <div class="form-row">
        <label for="playbackRate">재생 속도</label>
        <select id="playbackRate">
          <option value="0.5">0.5x (느리게)</option>
          <option value="0.75">0.75x</option>
          <option value="1" selected>1.0x (기본)</option>
          <option value="1.25">1.25x</option>
          <option value="1.5">1.5x</option>
          <option value="2">2.0x (빠르게)</option>
        </select>
      </div>

      <div class="button-row">
        <button id="playAllButton" class="primary">전체 재생</button>
        <button id="pauseButton" class="secondary">일시정지</button>
        <button id="stopButton" class="danger">정지</button>
      </div>

      <p class="hint">
        전체 재생 시 각 구간 반복횟수가 적용된 것을 1세트로<br />
        전체 반복 횟수만큼 순서대로 재생합니다.<br />
      </p>
    </section>

    <!-- 실제 재생에 사용하는 숨겨진 오디오 플레이어 -->
    <section class="panel" style="display:none;">
      <audio id="audioPlayer" controls style="width:100%;"></audio>
    </section>
  </main>

  <footer class="footer">
    <p>리스닝 연습 도구 페이지</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
